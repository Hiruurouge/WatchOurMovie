<h2>My Likes</h2>

<button  class="btn btn-success rounded" style="margin-left: 5%" (click)="openModal()">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/>
  </svg>
  Add genre
</button>
<button  class="btn btn-success rounded" style="margin-left: 5%" (click)="openStaffModal()">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/>
  </svg>
  Add Movie Director
</button>
<button  class="btn btn-success rounded" style="margin-left: 5%" (click)="openProdModal()">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/>
  </svg>
  Add Production Company
</button>
<button  class="btn btn-success rounded" style="margin-left: 5%" (click)="openMovieModal()">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/>
  </svg>
  Get recommendation
</button>
<br>
<br>
<h3>Genres Likes</h3>

<div class="card-container">
  <div class="card" *ngFor="let genre of genres">
    <img class="card-image" src="https://robohash.org/{{genre.name}}" alt="{{genre.name}} image">
    <div class="card-content">
      <h5 class="card-title">{{genre.name}}</h5>
      <div class="card-actions">
        <button class="btn btn-danger" (click)="deleteGenrePreference(genre)">Delete</button>
      </div>
    </div>
  </div>
</div>
<h3>Directors Likes</h3>

<div class="card-container">
  <div class="card" *ngFor="let staff of staffs">
    <img class="card-image" src="https://robohash.org/{{staff.name}}" alt="{{staff.name}} image">
    <div class="card-content">
      <h5 class="card-title">{{staff.name}}</h5>
      <div class="card-actions">
        <button class="btn btn-danger" (click)="deleteGenrePreference(staff)">Delete</button>
      </div>
    </div>
  </div>
</div>
<h3>Production Companies Likes</h3>

<div class="card-container">
  <div class="card" *ngFor="let prod of prods">
    <img class="card-image" src="https://robohash.org/{{prod.name}}" alt="{{prod.name}} image">
    <div class="card-content">
      <h5 class="card-title">{{prod.name}}</h5>
      <div class="card-actions">
        <button class="btn btn-danger" (click)="deleteGenrePreference(prod)">Delete</button>
      </div>
    </div>
  </div>
</div>

<div class="modal-background" [hidden]="!isMovieModalOpen" (click)="closeMovieModal()">
  <div class="modal-container" (click)="stopPropagation($event)">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="card-container">
        <!-- Boucle pour afficher chaque film -->
        <div class="card" *ngFor="let movie of movies">
          <img [src]="movie.poster" alt="Poster">
          <div class="card-body">
            <h5 class="card-title">{{ movie.title }}</h5>
            <p class="card-text2">{{ movie.overview }}</p>
            <ul class="list-group list-group-flush">
              <li class="list-group-item2"><strong>Genres :</strong> {{ movie.genres.join(', ') }}</li>
              <li class="list-group-item2"><strong>Maisons de production :</strong> {{ movie.maisons_de_production.join(', ') }}</li>
              <li class="list-group-item2"><strong>RÃ©alisateurs :</strong> {{ movie.realisateurs.join(', ') }}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal-background" [hidden]="!isModalOpen" (click)="closeModal()">
  <div class="modal-container" (click)="stopPropagation($event)">
    <h2>Choose a genre</h2>
    <form>
      <div class="form-group">
        <label for="genreSelect">Genres:</label>
        <select class="form-control" id="genreSelect" (change)="onGenreSelect($event)">
          <option value="" disabled selected>Choose a genre</option>
          <option *ngFor="let genre of genresList" [ngValue]="genre">{{ genre.name }}</option>
        </select>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="addGenrePreference()">Add</button>
      </div>
    </form>
  </div>
</div>
<div class="modal-background" [hidden]="!showProductionModal" (click)="closeProdModal()">
  <div class="modal-container" (click)="stopPropagation($event)">
    <h2>Choose Production Company</h2>
    <form>
      <div class="form-group">
        <label for="prodselect">Companies:</label>
        <select class="form-control" id="prodselect" (change)="onProd($event)">
          <option value="" disabled selected>Choose Production Company</option>
          <option *ngFor="let prod of prodlist" [ngValue]="prod">{{ prod.name }}</option>
        </select>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn btn-secondary" (click)="closeProdModal()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="addProdPreference()">Add</button>
      </div>
    </form>
  </div>
</div>
<div class="modal-background" [hidden]="!showStaffModal" (click)="closeStaffModal()">
  <div class="modal-container" (click)="stopPropagation($event)">
    <h2>Choose Director Name</h2>
    <form>
      <div class="form-group">
        <label for="staffSelect">Directors:</label>
        <select class="form-control" id="staffSelect"  (change)="onStaff($event)">
          <option value="" disabled selected>Choose Director Name</option>
          <option *ngFor="let staff of staffList" [ngValue]="staff">{{ staff.name }}</option>
        </select>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn btn-secondary" (click)="closeStaffModal()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="addStaffPreference()">Add</button>
      </div>
    </form>
  </div>
</div>
