<h2>My Genre Preferences</h2>

<button  class="btn btn-success rounded" style="margin-left: 5%" (click)="openModal()">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/>
  </svg>
</button>
<br>
<br>
<div class="card-container">
  <div class="card" *ngFor="let genre of genres">
    <img class="card-image" src="https://robohash.org/{{genre.name}}" alt="{{genre.name}} image">
    <div class="card-content">
      <h5 class="card-title">{{genre.name}}</h5>
      <div class="card-actions">
        <button class="btn btn-danger" (click)="deleteGenrePreference(genre)">Delete</button>
      </div>
    </div>
  </div>
</div>


<div class="modal-background" [hidden]="!isModalOpen" (click)="closeModal()">
  <div class="modal-container" (click)="stopPropagation($event)">
    <h2>Choose a genre</h2>
    <form>
      <div class="form-group">
        <label for="genreSelect">Genres:</label>
        <select class="form-control" id="genreSelect" (change)="onGenreSelect($event)">
          <option value="" disabled selected>Choose a genre</option>
          <option *ngFor="let genre of genresList" [ngValue]="genre">{{ genre.name }}</option>
        </select>
      </div>
      <div class="modal-actions">
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
        <button type="button" class="btn btn-primary" (click)="addGenrePreference()">Add</button>
      </div>
    </form>
  </div>
</div>
